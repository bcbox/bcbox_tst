function loadSettings(){$("#settingsHolder").empty(),$(".loader").show(),$.ajax({url:"/loadSettings"}).done(function(t){for(const e in t)if(e.includes(",")){let n=e.split(","),i=n[0],l=e.replaceAll(" ","_").replaceAll(",","-");switch(i){case"bt":$("#settingsHolder").append('\n                            <div class="flex">  \n                                <div class="col">  \n                                    <p>'+n[1]+'</p> \n                                </div>  \n                                <div class="col"> \n                                    <button id="'+l+'" type="button" class="btn btn-success settings-button">'+n[1]+"</button>  \n                                </div> \n                            </div>");break;case"sw":$("#settingsHolder").append('\n                        <div class="flex">  \n                            <div class="col">  \n                                <p>'+n[1]+'</p> \n                            </div>  \n                            <div class="col">  \n                                <input class="settings-checkbox" id="'+l+'" type="checkbox" '+("1"===t[e]?"checked":"")+' name="btn-checkbox" data-toggle="switchButton"> \n                            </div> \n                        </div>');break;case"txt":$("#settingsHolder").append('\n                        <div class="flex">  \n                            <div class="col">  \n                                <p>'+n[1]+'</p> \n                            </div>  \n                            <div class="col">  \n                                <input class="settings-text-input" id="'+l+'_input" type="text" value="'+t[e]+'"> \n                                <button class="btn btn-success settings-text-input-confirm" type="button" id="'+l+'">Save</button>\n                            </div> \n                        </div>')}}else $("#settingsHolder").append('\n                <div class="flex">\n                    <div class="col">'+e+'</div>\n                    <div class="col">'+t[e]+"</div>\n                </div>\n                ");$(".settings-text-input-confirm").click(function(t){console.log("#"+t.target.id+"_input");let e=$("#"+t.target.id+"_input").val();console.log("Text for field "+t.target.id+" changed to "+e),updateSetting(t.target.id.replaceAll("_"," ").replaceAll("-",","),e)}),$(".settings-checkbox").change(function(t){console.log("Checkbox "+t.target.id+" checked "+t.target.checked);let e=1;!1===t.target.checked&&(e=0),updateSetting(t.target.id.replaceAll("_"," ").replaceAll("-",","),e)}),$(".settings-button").click(function(t){console.log("Button "+t.target.id+" clicked "),t.target.id.includes("RESET_BCBOX")?(updateSetting(t.target.id.replaceAll("_"," ").replaceAll("-",","),1),setTimeout(function(){$(".loader").hide()},60)):updateSetting(t.target.id.replaceAll("_"," ").replaceAll("-",","),1)}),$("#saveWIFI").click(function(t){updateWifi($("#wifiSSID").val(),$("#wifiPWD").val())}),$.ajax({url:"/loadWifiSSID"}).done(function(t){$("#SSID").html(t.connectSSID),$("#wifiHolder").removeAttr("style"),$(".loader").hide()})})}function updateWifi(t,e){$(".loader").show(),$.ajax({type:"POST",url:"/updateWifi",async:!0,data:JSON.stringify({ssid:t,password:e}),success:function(t){$(".loader").hide(),loadSettings()},error:function(t){$(".loader").hide()}})}function updateSetting(t,e){$(".loader").show(),$.ajax({type:"POST",url:"/updateSetting",async:!0,data:JSON.stringify({variable:t,value:e}),success:function(t){$(".loader").hide(),loadSettings()},error:function(t){$(".loader").hide()}})}